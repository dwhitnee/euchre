<head>
  <title>Euchre</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="../styles/euchre.css"/>
</head>


<div id="euchreApp" v-cloak>
  <div class="playGrid withBorder">

    <div class="gridGameInfo title">Euchre</div>

    <div class="playerName gridPlayer1">
      <div class="card pile" v-bind:style="getCardStyle()">{{ names[1] }}</div>
    </div>
    <div class="playerName gridPlayer2">
      <div class="card pile" v-bind:style="getCardStyle()">{{ names[2] }}</div>
    </div>
    <div class="playerName gridPlayer3">
      <div class="card pile" v-bind:style="getCardStyle()">{{ names[3] }}</div>
    </div>

    <div id="cardTable" class="cardTable gridCardTable"
      @dragover.prevent @drop="playCard">
      <div v-for="(card, i) in playedCards" v-bind:class="'player'+i">

      <div v-if="playedCards[i]" class="card"
          v-bind:style="getCardStyle( playedCards[i].id )"></div>
          <div v-else class="card"></div>
      </div>
    </div>

    <div class="gridPlayerName">
      <div class="editable" contenteditable="true" spellcheck="false"
        title="click to edit name"
        @blur="setPlayerName"
        @keypress.enter="setPlayerName"
        @keypress.enter.prevent>{{ name }}</div>
    </div>

    <div class="gridPlayer0">
      <div class="cards">
        <div v-for="(card,i) in cards">
          <div class="card"
            v-bind:style="getCardStyle( card.id )"
            v-bind:data-card="card.id"
            draggable="true"
            @dragenter.prevent
            @dragover.prevent
            @dragstart="dragCardStart(card, $event)"
            @dragenter="moveCard( card, $event )">
          </div>
        </div>
      </div>
    <div>

      <!-- fixme -->
    <div class="buttons">
      <button class="btn btn-primary btn-lg" v-if="canDeal" @click="dealCards">Deal</button>
      <button class="btn btn-primary btn-lg" v-if="canPickUp"   @click="pickUpCard">Pick Up Card</button>
      <button class="btn btn-primary btn-lg" v-if="canTurnDown" @click="turnDownCard">Turn Down Card</button>
    </div>
  </div>

 </div>

<script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"
 integrity="sha256-ngFW3UnAN0Tnm76mDuu7uUtYEcG3G5H1+zioJw3t+68="
 crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/vue-router/3.1.3/vue-router.min.js"
 integrity="sha256-r/vPIUvTobCpYZsMmvU7HM58cNd4D6/vdICqDFapV7Y="
 crossorigin="anonymous"></script>


<script src="../js/util.js"></script>
<script src="../js/card.js"></script>
<script src="../js/app.js"></script>
